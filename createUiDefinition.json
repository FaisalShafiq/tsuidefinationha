{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json",
  "handler": "Microsoft.Compute.MultiVm",
  "version": "0.1.2-preview",
    "parameters": {
      "basics": [
        {
          "name": "adminUsername",
          "type": "Microsoft.Compute.UserNameTextBox",
          "label": "Virtual Machine Administrator Username",
          "toolTip": "Admin username for the virtual machines.",
          "osPlatform": "Windows"
        },
        {
          "name": "adminPassword",
          "type": "Microsoft.Compute.CredentialsCombo",
          "label": {
            "password": "Administrator Password",
            "confirmPassword": "Confirm password"
          },
          "toolTip": {
            "password": "Admin password for the virtual machines."
          },
          "osPlatform": "Windows"
        }
      ],
      "steps": [
        {
          "name": "infrastructureConfig",
          "label": "VIDIZMO Infrastructure settings",
          "subLabel": {
            "preValidation": "Configure VIDIZMO infrastructure settings",
            "postValidation": "Done"
          },
          "bladeTitle": "VIDIZMO Infrastructure settings",
          "elements": [
              {
	       "name": "vNet",
               "type": "Microsoft.Network.VirtualNetworkCombo",
               "label": {
                   "virtualNetwork": "Virtual Network",
                   "subnets": "Subnets"
               },
               "toolTip": {
                   "virtualNetwork": "To use an existing VNET, 3 subnets must already exist for Active Directory, SQL and VIDIZMO Application. For a new VNET, the template will create them.",
                   "subnets": ""
               },
               "options": {
		"hideExisting" : false
               },
               "defaultValue": {
                   "name": "vNet01",
                   "addressPrefixSize": "/16"
               },
               "constraints": {
                   "minAddressPrefixSize": "/16"
               },
               "subnets": {
                   "adSubnet": {
                       "label": "Active Directory Subnet",
                       "defaultValue": {
                           "name": "adSubnet",
                           "addressPrefixSize": "/24"
                       },
                       "constraints": {
                           "minAddressPrefixSize": "/24",
                           "minAddressCount": 12,
                           "requireContiguousAddresses": true
                       }
                   },
                   "sqlSubnet": {
                       "label": "SQL Subnet",
                       "defaultValue": {
                           "name": "sqlSubnet",
                           "addressPrefixSize": "/24"
                       },
                       "constraints": {
                           "minAddressPrefixSize": "/24",
                           "minAddressCount": 12,
                           "requireContiguousAddresses": true
                       }
                   },
                   "appSubnet": {
                       "label": "VIDIZMO Application Subnet",
                       "defaultValue": {
                           "name": "appSubnet",
                           "addressPrefixSize": "/24"
                       },
                       "constraints": {
                           "minAddressPrefixSize": "/24",
                           "minAddressCount": 12,
                           "requireContiguousAddresses": true
                       }
                   }
                }
	    },
            {
              "name": "adPDCNICIPAddress",
              "type": "Microsoft.Common.TextBox",
              "label": "AD primary Server IP Address",
              "toolTip": "Provide IP address for Active Directory primary server.",
              "defaultValue": "10.1.0.4",
              "constraints": {
                "required": true
              }
            },
            {
              "name": "adBDCNICIPAddress",
              "type": "Microsoft.Common.TextBox",
              "label": "AD backup Server IP Address",
              "toolTip": "Provide IP address for Active Directory backup server.",
              "defaultValue": "10.1.0.5",
              "constraints": {
                "required": true
              }
            },
            {
              "name": "sqlLBIPAddress",
              "type": "Microsoft.Common.TextBox",
              "label": "SQL load balancer IP Address",
              "toolTip": "Provide IP address for SQL load balancer.",
              "defaultValue": "10.1.1.9",
              "constraints": {
                "required": true
              }
            },
            {
              "name": "adVMSize",
              "type": "Microsoft.Compute.SizeSelector",
              "label": "Active Directory VM Size",
              "toolTip": "Size of the VIDIZMO VM instance to be created for Active Directory servers. DS series VMs only supported in premium storage type.",
              "recommendedSizes": [
                "Standard_D1",
                "Standard_D2",
                "Standard_D3"
              ],
              "constraints": {
                "allowedSizes": [
                  "Standard_A2",
                  "Standard_A3",
                  "Standard_A4",
                  "Standard_A6",
                  "Standard_A7",
                  "Standard_A8",
                  "Standard_A9",
                  "Standard_A10",
                  "Standard_A11",
                  "Standard_D1",
                  "Standard_D2",
                  "Standard_D3",
                  "Standard_D4",
                  "Standard_D12",
                  "Standard_D13",
                  "Standard_D14",
                  "Standard_D1_v2",
                  "Standard_D2_v2",
                  "Standard_D3_v2",
                  "Standard_D4_v2",
                  "Standard_D5_v2",
                  "Standard_D12_v2",
                  "Standard_D13_v2",
                  "Standard_D14_v2",
                  "Standard_D15_v2",
                  "Standard_DS1",
                  "Standard_DS2",
                  "Standard_DS3",
                  "Standard_DS4",
                  "Standard_DS12",
                  "Standard_DS13",
                  "Standard_DS14",
                  "Standard_DS1_v2",
                  "Standard_DS2_v2",
                  "Standard_DS3_v2",
                  "Standard_DS4_v2",
                  "Standard_DS5_v2",
                  "Standard_DS12_v2",
                  "Standard_DS13_v2",
                  "Standard_DS14_v2",
                  "Standard_DS15_v2",
                  "Standard_F1",
                  "Standard_F2",
                  "Standard_F4",
                  "Standard_F8",
                  "Standard_F16",
                  "Standard_F1s",
                  "Standard_F2s",
                  "Standard_F4s",
                  "Standard_F8s",
                  "Standard_F16s",
                  "Standard_G2",
                  "Standard_G3",
                  "Standard_G4",
                  "Standard_G5",
                  "Standard_GS2",
                  "Standard_GS3",
                  "Standard_GS4",
                  "Standard_GS5"
                ]
              },
              "osPlatform": "Windows"
            },
            {
              "name": "sqlVMSize",
              "type": "Microsoft.Compute.SizeSelector",
              "label": "SQL VM Size",
              "toolTip": "Size of the VIDIZMO VM instance to be created for SQL Servers. DS series VMs only supported in premium storage type.",
              "recommendedSizes": [
                "Standard_DS2",
                "Standard_DS3",
                "Standard_DS4"
              ],
              "constraints": {
                "allowedSizes": [
                  "Standard_DS2",
                  "Standard_DS3",
                  "Standard_DS4",
                  "Standard_DS12",
                  "Standard_DS13",
                  "Standard_DS14",
                  "Standard_DS2_v2",
                  "Standard_DS3_v2",
                  "Standard_DS4_v2",
                  "Standard_DS5_v2",
                  "Standard_DS11_v2",
                  "Standard_DS12_v2",
                  "Standard_DS13_v2",
                  "Standard_DS14_v2",
                  "Standard_DS15_v2",
                  "Standard_GS2",
                  "Standard_GS3",
                  "Standard_GS4",
                  "Standard_GS5"
                ]
              },
              "osPlatform": "Windows"
            },
            {
              "name": "witnessVMSize",
              "type": "Microsoft.Compute.SizeSelector",
              "label": "Witness VM Size",
              "toolTip": "Size of the VIDIZMO VM instance to be created for High Availibility witness server. DS series VMs only supported in premium storage type.",
              "recommendedSizes": [
                "Standard_D1",
                "Standard_D2",
                "Standard_D3"
              ],
              "constraints": {
                "allowedSizes": [
                  "Standard_D1",
                  "Standard_D2",
                  "Standard_D3",
                  "Standard_D4",
                  "Standard_D12",
                  "Standard_D13",
                  "Standard_D14",
                  "Standard_D3_v2",
                  "Standard_D4_v2",
                  "Standard_D5_v2",
                  "Standard_D12_v2",
                  "Standard_D13_v2",
                  "Standard_D14_v2",
                  "Standard_D15_v2",
                  "Standard_DS1",
                  "Standard_DS2",
                  "Standard_DS3",
                  "Standard_DS4",
                  "Standard_DS12",
                  "Standard_DS13",
                  "Standard_DS14",
                  "Standard_DS1_v2",
                  "Standard_DS2_v2",
                  "Standard_DS3_v2",
                  "Standard_DS4_v2",
                  "Standard_DS5_v2",
                  "Standard_DS12_v2",
                  "Standard_DS13_v2",
                  "Standard_DS14_v2",
                  "Standard_DS15_v2",
                  "Standard_F1",
                  "Standard_F2",
                  "Standard_F4",
                  "Standard_F8",
                  "Standard_F16",
                  "Standard_F1s",
                  "Standard_F2s",
                  "Standard_F4s",
                  "Standard_F8s",
                  "Standard_F16s",
                  "Standard_G2",
                  "Standard_G3",
                  "Standard_G4",
                  "Standard_G5",
                  "Standard_GS2",
                  "Standard_GS3",
                  "Standard_GS4",
                  "Standard_GS5"
                ]
              },
              "osPlatform": "Windows"
            },
            {
              "name": "domainName",
              "type": "Microsoft.Common.TextBox",
              "label": "Domain Name for Active Directory service",
              "toolTip": "Domain Name for Active Directory service like 'yourdomain.local'.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+$",
                "validationMessage": "Only characters for domain are allowd like 'yourdomain.local'."
              }
            },
            {
              "name": "sqlStorageAccount",
              "type": "Microsoft.Storage.StorageAccountSelector",
              "label": "SQL Server Virtual Machine Storage Account",
              "defaultValue": {
                "name": "",
                "type": "Premium_LRS"
              },
              "constraints": {
                "allowedTypes": [
                  "Premium_LRS"
                ]
              }
            },
            {
              "name": "sqlServerAccountUserName",
              "type": "Microsoft.Common.TextBox",
              "label": "User Name for SQL Server Configuration",
              "toolTip": "Provide a domain user name to use in SQL Service Configuration.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z]{1,15}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-15 characters long."
              }
            },
            {
              "name": "sqlServerAccountPassword",
              "type": "Microsoft.Compute.CredentialsCombo",
              "label": {
                "password": "SQL Server User Password",
                "confirmPassword": "Confirm password"
              },
              "toolTip": {
                "password": "Provide SQL Server User Password."
              },
              "constraints": {
                "required": true
              },
              "options": {
                "hideConfirmation": false
              },
              "osPlatform": "Windows"
            },
            {
              "name": "deploymentPrefix",
              "type": "Microsoft.Common.TextBox",
              "label": "Always On Availability Group deployment Prefix",
              "toolTip": "Provide Always On Availability Group deployment Prefix.",
              "defaultValue": "aodns",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z]{1,5}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-5 characters long."
              }
            },
            {
              "name": "autoPatchingDay",
              "type": "Microsoft.Common.DropDown",
              "label": "SQL Auto Patching Day",
              "defaultValue": "Sunday",
              "toolTip": "Select day for SQL auto patching.",
              "constraints": {
                "required": true,
                "allowedValues": [
                  {
                    "label": "Never",
                    "value": "Never"
                  },
                  {
                    "label": "Daily",
                    "value": "Everyday"
                  },
                  {
                    "label": "Sunday",
                    "value": "Sunday"
                  },
                  {
                    "label": "Monday",
                    "value": "Monday"
                  },
                  {
                    "label": "Tuesday",
                    "value": "Tuesday"
                  },
                  {
                    "label": "Wednesday",
                    "value": "Wednesday"
                  },
                  {
                    "label": "Thursday",
                    "value": "Thursday"
                  },
                  {
                    "label": "Friday",
                    "value": "Friday"
                  },
                  {
                    "label": "Saturday",
                    "value": "Saturday"
                  }
                ]
              }
            },
            {
              "name": "autoPatchingStartHour",
              "type": "Microsoft.Common.DropDown",
              "label": "SQL Auto Patching Start Hour",
              "defaultValue": "2:00",
              "toolTip": "Select start hour for SQL auto patching.",
              "constraints": {
                "required": true,
                "allowedValues": [
                  {
                    "label": "0:00",
                    "value": "0"
                  },
                  {
                    "label": "1:00",
                    "value": "1"
                  },
                  {
                    "label": "2:00",
                    "value": "2"
                  },
                  {
                    "label": "3:00",
                    "value": "3"
                  },
                  {
                    "label": "4:00",
                    "value": "4"
                  },
                  {
                    "label": "5:00",
                    "value": "5"
                  },
                  {
                    "label": "6:00",
                    "value": "6"
                  },
                  {
                    "label": "7:00",
                    "value": "7"
                  },
                  {
                    "label": "8:00",
                    "value": "8"
                  },
                  {
                    "label": "9:00",
                    "value": "9"
                  },
                  {
                    "label": "10:00",
                    "value": "10"
                  },
                  {
                    "label": "11:00",
                    "value": "11"
                  },
                  {
                    "label": "12:00",
                    "value": "12"
                  },
                  {
                    "label": "13:00",
                    "value": "13"
                  },
                  {
                    "label": "14:00",
                    "value": "14"
                  },
                  {
                    "label": "15:00",
                    "value": "15"
                  },
                  {
                    "label": "16:00",
                    "value": "16"
                  },
                  {
                    "label": "17:00",
                    "value": "17"
                  },
                  {
                    "label": "18:00",
                    "value": "18"
                  },
                  {
                    "label": "19:00",
                    "value": "19"
                  },
                  {
                    "label": "20:00",
                    "value": "20"
                  },
                  {
                    "label": "21:00",
                    "value": "21"
                  },
                  {
                    "label": "22:00",
                    "value": "22"
                  },
                  {
                    "label": "23:00",
                    "value": "23"
                  }
                ]
              }
            },
            {
              "name": "sqlAOAGName",
              "type": "Microsoft.Common.TextBox",
              "label": "SQL Always On Availability Group Name",
              "toolTip": "SQL Always On Availability Group Name.",
              "defaultValue": "alwayson-ag",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z -]{1,20}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-10 characters long."
              }
            },
            {
              "name": "sqlAOListenerName",
              "type": "Microsoft.Common.TextBox",
              "label": "SQL Always On Availability Group Listener Name",
              "toolTip": "SQL Always On Availability Group Listener Name.",
              "defaultValue": "alwayson-ag-listener",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z -]{1,20}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-20 characters long."
              }
            },
            {
              "name": "sqlAOListenerPort",
              "type": "Microsoft.Common.TextBox",
              "label": "SQL Always On Availability Group Listener Port",
              "toolTip": "SQL Always On Availability Group Listener Port.",
              "defaultValue": "1433",
              "constraints": {
                "required": true,
                "regex": "^[0-9]{1,5}$",
                "validationMessage": "Only numbers are allowed, and the value must be 1-6 characters long."
              }
            },
            {
              "name": "appVMSize",
              "type": "Microsoft.Compute.SizeSelector",
              "label": "VIDIZMO Application VM Size",
              "toolTip": "Size of the VIDIZMO VM instance to be created for VIDIZMO Application servers. DS series VMs only supported in premium storage type.",
              "recommendedSizes": [
                "Standard_DS2",
                "Standard_DS3",
                "Standard_DS4"
              ],
              "constraints": {
                "allowedSizes": [
                  "Standard_A3",
                  "Standard_A4",
                  "Standard_A6",
                  "Standard_A7",
                  "Standard_A8",
                  "Standard_A9",
                  "Standard_A10",
                  "Standard_A11",
                  "Standard_D2",
                  "Standard_D3",
                  "Standard_D4",
                  "Standard_D12",
                  "Standard_D13",
                  "Standard_D14",
                  "Standard_D3_v2",
                  "Standard_D4_v2",
                  "Standard_D5_v2",
                  "Standard_D12_v2",
                  "Standard_D13_v2",
                  "Standard_D14_v2",
                  "Standard_D15_v2",
                  "Standard_DS2",
                  "Standard_DS3",
                  "Standard_DS4",
                  "Standard_DS12",
                  "Standard_DS13",
                  "Standard_DS14",
                  "Standard_DS2_v2",
                  "Standard_DS3_v2",
                  "Standard_DS4_v2",
                  "Standard_DS5_v2",
                  "Standard_DS12_v2",
                  "Standard_DS13_v2",
                  "Standard_DS14_v2",
                  "Standard_DS15_v2",
                  "Standard_F1",
                  "Standard_F2",
                  "Standard_F4",
                  "Standard_F8",
                  "Standard_F16",
                  "Standard_F1s",
                  "Standard_F2s",
                  "Standard_F4s",
                  "Standard_F8s",
                  "Standard_F16s",
                  "Standard_G2",
                  "Standard_G3",
                  "Standard_G4",
                  "Standard_G5",
                  "Standard_GS2",
                  "Standard_GS3",
                  "Standard_GS4",
                  "Standard_GS5"
                ]
              },
              "osPlatform": "Windows"
            },
	    {
             "name": "vMPublicIP",
             "type": "Microsoft.Network.PublicIpAddressCombo",
             "label": {
               "publicIpAddress": "Public IP address",
               "domainNameLabel": "DNS label"
             },
             "toolTip": {
               "domainNameLabel": "DNS label for the VIDIZMO Server's public IP address, which hosts the VIDIZMO application."
             },
             "options": {
               "hideNone": true,
               "hideDomainNameLabel": false,
               "hideExisting": false
             },
             "constraints": {
               "required": {
                 "domainNameLabel": true
                }
              }
            },
            {
              "name": "vidizmoAppMachineName",
              "type": "Microsoft.Common.TextBox",
              "label": "VIDIZMO Application Server DNS Name Label Prefix",
              "toolTip": "An 'A record' that starts with the specified label and resolves to this public IP address will be registered with the Azure-provided DNS servers. Example: mylabel.westus.cloudapp.azure.com.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z]{1,15}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-15 characters long."
              }
            },
            {
              "name": "appScaleSetName",
              "type": "Microsoft.Common.TextBox",
              "label": "VIDIZMO Application ScaleSet Name Prefix",
              "toolTip": "Provide VIDIZMO Application ScaleSet name prefix.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z]{1,8}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-8 characters long."
              }
            },
            {
              "name": "appVMInstanceCount",
              "type": "Microsoft.Common.TextBox",
              "label": "Application VM Number of Instances",
              "toolTip": "Provide number of instance for VIDIZMO application servers.",
              "defaultValue": "2",
              "constraints": {
                "required": true,
                "regex": "^[0-9]{1,2}$",
                "validationMessage": "Only numbers are allowed, and the value must be 1-2 characters long."
              }
            },
            {
              "name": "mediaServiceName",
              "type": "Microsoft.Common.TextBox",
              "label": "Media Service Name",
              "toolTip": "Unique name for the Media Service.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z]{1,30}$",
                "validationMessage": "Only letters and numbers are allowed, and the value must be 1-30 characters long."
              }
            },
            {
              "name": "mediaStorageName",
              "type": "Microsoft.Storage.StorageAccountSelector",
              "label": "Media Service Storage Account",
              "toolTip": "Unique name for the Media Storage Account.",
              "defaultValue": {
                "name": "",
                "type": "Standard_LRS"
              },
              "constraints": {
                "allowedTypes": [
                  "Standard_LRS",
                  "Standard_GRS",
                  "Standard_RAGRS"
                ]
              },
              "options": {
                "hideExisting": false
              },
              "visible": true
            }


          ]
        },
        {
          "name": "vidizmoApplicationConfig",
          "label": "VIDIZMO Application settings",
          "subLabel": {
            "preValidation": "Configure VIDIZMO Application settings",
            "postValidation": "Done"
          },
          "bladeTitle": "VIDIZMO Application settings",
          "elements": [
            {
              "name": "vidizmoLMSPackage",
              "type": "Microsoft.Common.DropDown",
              "label": "Select Vidizmo License",
              "defaultValue": "EnterpriseTube Standard - 1 Portals - 100 Users",
              "toolTip": "Select Vidizmo Application License for your deployment.",
              "constraints": {
                "required": true,
                "allowedValues": [
                  {
                    "label": "EnterpriseTube Standard - 1 Portals - 100 Users",
                    "value": "vidizmo-enterprise-standard-100"
                  },
                  {
                    "label": "EnterpriseTube Standard - 1 Portals - 250 Users",
                    "value": "vidizmo-enterprise-standard-250"
                  },
                  {
                    "label": "EnterpriseTube Standard - 1 Portals - 500 Users",
                    "value": "vidizmo-enterprise-standard-500"
                  },
                  {
                    "label": "EnterpriseTube Standard - 1 Portals - 750 Users",
                    "value": "vidizmo-enterprise-standard-750"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 1K Users",
                    "value": "vidizmo-enterprise-standard-1k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 2.5K Users",
                    "value": "vidizmo-enterprise-standard-2.5k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 5K Users",
                    "value": "vidizmo-enterprise-standard-5k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 10K Users",
                    "value": "vidizmo-enterprise-standard-10k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 25K Users",
                    "value": "vidizmo-enterprise-standard-25k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 50K Users",
                    "value": "vidizmo-enterprise-standard-50k"
                  },
                  {
                    "label": "EnterpriseTube Standard - 4 Portals - 100K Users",
                    "value": "vidizmo-enterprise-standard-100k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 1 Portals - 100 Users",
                    "value": "vidizmo-enterprise-premium-100"
                  },
                  {
                    "label": "EnterpriseTube Premium - 1 Portals - 250 Users",
                    "value": "vidizmo-enterprise-premium-250"
                  },
                  {
                    "label": "EnterpriseTube Premium - 1 Portals - 500 Users",
                    "value": "vidizmo-enterprise-premium-500"
                  },
                  {
                    "label": "EnterpriseTube Premium - 1 Portals - 750 Users",
                    "value": "vidizmo-enterprise-premium-750"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 1K Users",
                    "value": "vidizmo-enterprise-premium-1k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 2.5K Users",
                    "value": "vidizmo-enterprise-premium-2.5k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 5K Users",
                    "value": "vidizmo-enterprise-premium-5k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 10K Users",
                    "value": "vidizmo-enterprise-premium-10k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 25K Users",
                    "value": "vidizmo-enterprise-premium-25k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 50K Users",
                    "value": "vidizmo-enterprise-premium-50k"
                  },
                  {
                    "label": "EnterpriseTube Premium - 4 Portals - 100K Users",
                    "value": "vidizmo-enterprise-premium-100k"
                  }
                ]
              }
            },
            {
              "name": "emailAddress",
              "type": "Microsoft.Common.TextBox",
              "label": "Your Email Address",
              "toolTip": "Provide your email address",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})$",
                "validationMessage": "Must be a valid email address."
              }
            },
            {
              "name": "vidizmoApplicationPassword",
              "type": "Microsoft.Compute.CredentialsCombo",
              "label": {
                "password": "VIDIZMO Application User Password",
                "confirmPassword": "Confirm password"
              },
              "toolTip": {
                "password": "Provide Vidizmo Application User Password."
              },
              "constraints": {
                "required": true
              },
              "options": {
                "hideConfirmation": true
              },
              "osPlatform": "Windows"
            },
            {
              "name": "firstName",
              "type": "Microsoft.Common.TextBox",
              "label": "Your First Name",
              "toolTip": "Provide your first name.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z\\s]{1,15}$",
                "validationMessage": "Only letters, numbers and spaces are allowed, and the value must be 1-15 characters long."
              }
            },
            {
              "name": "lastName",
              "type": "Microsoft.Common.TextBox",
              "label": "Your Last Name",
              "toolTip": "Provide your last name.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z\\s]{1,15}$",
                "validationMessage": "Only letters, numbers and spaces are allowed, and the value must be 1-15 characters long."
              }
            },
            {
              "name": "organizationName",
              "type": "Microsoft.Common.TextBox",
              "label": "Organization Name",
              "toolTip": "Provide your organization name.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z\\s]{1,100}$",
                "validationMessage": "Only letters, numbers and spaces are allowed, and the value must be 1-100 characters long."
              }
            },
            {
              "name": "webSite",
              "type": "Microsoft.Common.TextBox",
              "label": "Website URL",
              "toolTip": "Provide your organization website URL.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+$",
                "validationMessage": "Only provide URLs like 'http://yourwebsite.com'."
              }
            },
            {
              "name": "phone",
              "type": "Microsoft.Common.TextBox",
              "label": "Phone Number",
              "toolTip": "Provide your phone number.",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[0-9]{1,15}$",
                "validationMessage": "Only numbers are allowed, and the value must be 1-15 characters long."
              }
            },
            {
              "name": "iWouldLikeTo",
              "type": "Microsoft.Common.DropDown",
              "label": "I would like to",
              "toolTip": "Select option listed in Dropdown",
              "constraints": {
                "required": true,
                "allowedValues": [
                  {
                    "label": "VIDIZMO Sales Team to Contact me",
                    "value": "Sales_Team_to_Contact_me"
                  },
                  {
                    "label": "VIDIZMO Support Team to Contact me",
                    "value": "Support_Team_to_Contact_me"
                  },
                  {
                    "label": "VIDIZMO Sales & Support Team to Contact me",
                    "value": "Sales_and_Support_Team_to_Contact_me"
                  }
                ]
              }
            },
            {
              "name": "whereDidYouHearForUs",
              "type": "Microsoft.Common.TextBox",
              "label": "Where did you hear about us?",
              "toolTip": "Tell us, where did you hear about us?",
              "defaultValue": "",
              "constraints": {
                "required": true,
                "regex": "^[a-z0-9A-Z\\s]{1,100}$",
                "validationMessage": "Only letters, numbers and spaces are allowed, and the value must be 1-100 characters long."
              }
            }
          ]
        }
      ],
      "outputs": {
        "adminUsername": "[basics('adminUsername')]",
        "adminPassword": "[basics('adminPassword').password]",

        "virtualNetworkName": "[steps('infrastructureConfig').vNet.name]",
        "virtualNetworkAddressRange": "[steps('infrastructureConfig').vNet.addressPrefix]",
        "adSubnet": "[steps('infrastructureConfig').vNet.subnets.adSubnet.name]",
        "adSubnetPrefix": "[steps('infrastructureConfig').vNet.subnets.adSubnet.addressPrefix]",
        "sqlSubnet": "[steps('infrastructureConfig').vNet.subnets.sqlSubnet.name]",
        "sqlSubnetPrefix": "[steps('infrastructureConfig').vNet.subnets.sqlSubnet.addressPrefix]",
        "appSubnet": "[steps('infrastructureConfig').vNet.subnets.appSubnet.name]",
        "appSubnetPrefix": "[steps('infrastructureConfig').vNet.subnets.appSubnet.addressPrefix]",
        "virtualNetworkNewOrExisting": "[steps('infrastructureConfig').vNetvNet.newOrExisting]",
      	"virtualNetworkRG": "[steps('infrastructureConfig').vNet.resourceGroup]",
      	"adPDCNICIPAddress": "[steps('infrastructureConfig').adPDCNICIPAddress]",
        "adBDCNICIPAddress": "[steps('infrastructureConfig').adBDCNICIPAddress]",
        "sqlLBIPAddress": "[steps('infrastructureConfig').sqlLBIPAddress]",
        "adVMSize": "[steps('infrastructureConfig').adVMSize]",
        "sqlVMSize": "[steps('infrastructureConfig').sqlVMSize]",
        "witnessVMSize": "[steps('infrastructureConfig').witnessVMSize]",
        "domainName": "[steps('infrastructureConfig').domainName]",

        "sqlStorageAccountName": "[steps('infrastructureConfig').sqlStorageAccount.name]",
        "sqlStorageAccountType": "[steps('infrastructureConfig').sqlStorageAccount.type]",
      	"sqlStorageAccountNewOrExists": "[steps('infrastructureConfig').sqlStorageAccount.newOrExisting]",
      	"sqlStorageAccountRG": "[steps('infrastructureConfig').sqlStorageAccount.resourceGroup]",

	"sqlServerServiceAccountUserName": "[steps('infrastructureConfig').sqlServerAccountUserName]",
        "sqlServerServiceAccountPassword": "[steps('vidizmoApplicationConfig').vidizmoApplicationPassword.password]",
        "deploymentPrefix": "[steps('infrastructureConfig').deploymentPrefix]",
        "autoPatchingDay": "[steps('vidizmoApplicationConfig').autoPatchingDay]",
        "autoPatchingStartHour": "[steps('vidizmoApplicationConfig').autoPatchingStartHour]",
        "sqlAOAGName": "[steps('infrastructureConfig').sqlAOAGName]",
        "sqlAOListenerName": "[steps('infrastructureConfig').sqlAOListenerName]",
        "sqlAOListenerPort": "[steps('infrastructureConfig').sqlAOListenerPort]",

        "appVMSize": "[steps('infrastructureConfig').appVMSize]",
        "vMPublicIPName": "[steps('infrastructureConfig').vMPublicIP.name]",
      	"vidizmoappMachineName": "[steps('infrastructureConfig').vMPublicIP.domainNameLabel]",
      	"vMPublicIPNewOrExists": "[steps('infrastructureConfig').vMPublicIP.newOrExistingOrNone]",
      	"vMPublicIPRG": "[steps('infrastructureConfig').vMPublicIP.resourceGroup]",
        
	"appScaleSetName": "[steps('infrastructureConfig').appScaleSetName]",
        "appVMInstanceCount": "[steps('infrastructureConfig').appVMInstanceCount]",

        "mediaServiceName": "[steps('infrastructureConfig').mediaServiceName]",
        "mediaStorageName": "[steps('infrastructureConfig').mediaStorageName.name]",

        "vidizmoLMSPackage": "[steps('vidizmoApplicationConfig').vidizmoLMSPackage]",
        "emailAddress": "[steps('vidizmoApplicationConfig').emailAddress]",
        "vidizmoApplicationPassword": "[steps('vidizmoApplicationConfig').vidizmoApplicationPassword.password]",
        "firstName": "[steps('vidizmoApplicationConfig').firstName]",
        "lastName": "[steps('vidizmoApplicationConfig').lastName]",
        "organizationName": "[steps('vidizmoApplicationConfig').organizationName]",
        "webSite": "[steps('vidizmoApplicationConfig').webSite]",
        "phone": "[steps('vidizmoApplicationConfig').phone]",
        "iWouldLikeTo": "[steps('vidizmoApplicationConfig').iWouldLikeTo]",
        "whereDidYouHearForUs": "[steps('vidizmoApplicationConfig').whereDidYouHearForUs]"
      }
    }
}
